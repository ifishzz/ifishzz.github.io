<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<meta name="author" content="ifish">
		
		<meta name="generator" content="Hugo 0.54.0" />
		<title>modsecurity to splunk &middot; if1sh</title>
		<link rel="shortcut icon" href="https://ifishzz.github.io//images/favicon.ico">
		<link rel="stylesheet" href="https://ifishzz.github.io//css/style.css">
		<link rel="stylesheet" href="https://ifishzz.github.io//css/highlight.css">

		
		<link rel="stylesheet" href="https://ifishzz.github.io//css/font-awesome.min.css">
		

		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='https://ifishzz.github.io/'> <span class="arrow">←</span>Home</a>
	
	<a href='https://ifishzz.github.io//posts'>Archive</a>
	
	<a href='https://ifishzz.github.io//categories'>Cate</a>
	<a href='https://ifishzz.github.io//links'>Link</a>

	<a href='https://ifishzz.github.io//about'>About</a>

	

	
	<a class="cta" href="https://ifishzz.github.io/index.xml">Subscribe</a>
	
</nav>


        <section id="wrapper" class="post">
            <article>
                <header>
                    <h1>
                        modsecurity to splunk
                    </h1>
                    <h2 class="headline">
                    Jan 20, 2019 00:00
                    · 364 words
                    · 1 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="https://ifishzz.github.io//tags/splunk">splunk</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                  
                    <div id="toc">
                      <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#0x00-简介">0x00 简介</a></li>
<li><a href="#0x01基础环境准备">0x01基础环境准备</a>
<ul>
<li><a href="#服务端安装配置">服务端安装配置</a></li>
<li><a href="#客户端安装配置">客户端安装配置</a></li>
<li><a href="#web设置">web设置</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
                    </div>
                  
                
                <section id="post-body">
                    

<h2 id="0x00-简介">0x00 简介</h2>

<p>Splunk是一个托管的日志文件管理工具，它的主要功能包括：</p>

<p>日志聚合功能</p>

<p>搜索功能</p>

<p>提取意义</p>

<p>对结果进行分组，联合，拆分和格式化</p>

<p>可视化功能</p>

<p>电子邮件提醒功能</p>

<h2 id="0x01基础环境准备">0x01基础环境准备</h2>

<pre><code>数据转发和接收,方便远程审计
192.168.0.105 dvwa client

192.168.0.157 splunk server
</code></pre>

<h3 id="服务端安装配置">服务端安装配置</h3>

<pre><code>tar zxvf splunk-7.0.0-c8a78efdd40f-Linux-x86_64.tgz
cd /splunk/bin
./splunk start --accept-license
./splunk enable boot-start 

http://192.168.0.157:8000 
admin/changeme
许可证修改为free

./splunk enable deploy-client 服务端开启转发许可
</code></pre>

<h3 id="客户端安装配置">客户端安装配置</h3>

<pre><code>cd splunkforwarder/bin/
./splunk start

./splunk enable boot-start  配置自动启动
chkconfig splunk on 
 ./splunk set deploy-poll 192.168.0.157:8089	#设置server机器的ip和端口
这里要输入账号密码admin/changeme
./splunk add forward-server 192.168.0.157:9997	#添加一台转发的服务器 ip是服务器的地址 端口 9997 删除 add替换 remove
./splunk list forward-server #列出服务器地址
./splunk add monitor /var/log/httpd/access_log -index main -sourcetype access_combined #监听路径
./splunk list monitor #列出日志清单
</code></pre>

<h3 id="web设置">web设置</h3>

<pre><code>web页面-&gt;设置-&gt;转发和接收-&gt;接收数据-&gt;配置接收-&gt;新建-&gt;监听9997

重启两边服务

./splunk restart
</code></pre>

<p><img src="/images/splunk.png" alt="" /></p>

<p>搜索语句后面再补</p>

                </section>
            </article>

            
                

            

            

            

            <footer id="footer">
    
    
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/ifishzz">ifish</a>
    </p>
</footer>

        </section>

        <script src="https://ifishzz.github.io//js/jquery-3.3.1.min.js"></script>
<script src="https://ifishzz.github.io//js/main.js"></script>
<script src="https://ifishzz.github.io//js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  



<script>
var baiduAnalytics = '';
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?" + baiduAnalytics;
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    </body>
</html>
